 create database if not exists mysql> show database;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'database' at line 1
mysql> show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| sys                |
+--------------------+
4 rows in set (0.01 sec)

mysql> create database if not exists world;
Query OK, 1 row affected (0.01 sec)

mysql> show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| sys                |
| world              |
+--------------------+
5 rows in set (0.01 sec)

mysql> use world;
Database changed
mysql> show tables
    -> ;
Empty set (0.01 sec)

mysql> show tables;
mysql> source world.sql;

mysql> show database
    -> ;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'databa
se' at line 1
mysql> show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| sys                |
| world              |
+--------------------+
5 rows in set (0.01 sec)
mysql> use world;
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A
Database changed
mysql> show tables;
+-----------------+
| Tables_in_world |
+-----------------+
| city            |
| country         |
| countrylanguage |
+-----------------+
3 rows in set (0.02 sec)
mysql> describe city;

 create table person (
    -> first_name var(100) not null,
    -> ;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'var(100) not null,' at line 2
mysql> drop table if exists person;
Query OK, 0 rows affected, 1 warning (0.01 sec)

mysql> create table person ( f_name varchar(100) not null,
    -> l_name varchar(100) not null,
    -> age int not null,
    -> unique(f_name, l_name)
    -> );
Query OK, 0 rows affected (0.04 sec)

mysql> show tables
    -> ;
+-----------------+
| Tables_in_world |
+-----------------+
| city            |
| country         |
| countrylanguage |
| person          |
+-----------------+
4 rows in set (0.01 sec)

 drop table if exists person
    -> ;
Query OK, 0 rows affected (0.03 sec)
mysql> create table person ( f_name varchar(100) not null, l_name varchar(100) not null, age int not null, unique(f_name, l_name), primary key(f_name) );
Query OK, 0 rows affected (0.04 sec)
mysql> describe person
    -> ;
+--------+--------------+------+-----+---------+-------+
| Field  | Type         | Null | Key | Default | Extra |
+--------+--------------+------+-----+---------+-------+
| f_name | varchar(100) | NO   | PRI | NULL    |       |
| l_name | varchar(100) | NO   |     | NULL    |       |
| age    | int(11)      | NO   |     | NULL    |       |
+--------+--------------+------+-----+---------+-------+
3 rows in set (0.01 sec)

# alter

mysql> alter table person add gender varchar(1) not null;
Query OK, 0 rows affected (0.05 sec)
Records: 0  Duplicates: 0  Warnings: 0
mysql> describe person;
+--------+--------------+------+-----+---------+-------+
| Field  | Type         | Null | Key | Default | Extra |
+--------+--------------+------+-----+---------+-------+
| f_name | varchar(100) | NO   | PRI | NULL    |       |
| l_name | varchar(100) | NO   |     | NULL    |       |
| age    | int(11)      | NO   |     | NULL    |       |
| gender | varchar(1)   | NO   |     | NULL    |       |
+--------+--------------+------+-----+---------+-------+
4 rows in set (0.01 sec)
mysql> alter table person add drop column gender;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'drop c
olumn gender' at line 1
mysql> alter table person drop column gender;
alter table person add person_id  int(11) not null;
Query OK, 0 rows affected (0.04 sec)
Records: 0  Duplicates: 0  Warnings: 0
mysql> describe person;
+-----------+--------------+------+-----+---------+-------+
| Field     | Type         | Null | Key | Default | Extra |
+-----------+--------------+------+-----+---------+-------+
| f_name    | varchar(100) | NO   | PRI | NULL    |       |
| l_name    | varchar(100) | NO   |     | NULL    |       |
| age       | int(11)      | NO   |     | NULL    |       |
| person_id | int(11)      | NO   |     | NULL    |       |
+-----------+--------------+------+-----+---------+-------+
4 rows in set (0.01 sec)
mysql> alter table person drop primary key;
Query OK, 0 rows affected (0.05 sec)
Records: 0  Duplicates: 0  Warnings: 0
mysql> alter table person add primary key(person_id);
Query OK, 0 rows affected (0.04 sec)

mysql> describe person
    -> ;
+-----------+--------------+------+-----+---------+-------+
| Field     | Type         | Null | Key | Default | Extra |
+-----------+--------------+------+-----+---------+-------+
| f_name    | varchar(100) | NO   | MUL | NULL    |       |
| l_name    | varchar(100) | NO   |     | NULL    |       |
| age       | int(11)      | NO   |     | NULL    |       |
| person_id | int(11)      | NO   | PRI | NULL    |       |
+-----------+--------------+------+-----+---------+-------+
4 rows in set (0.01 sec)
mysql> alter table person change person_id person_id int(10) NOT NULL auto_increment;
Query OK, 0 rows affected (0.06 sec)
Records: 0  Duplicates: 0  Warnings: 0
mysql> describe person
    -> ;
+-----------+--------------+------+-----+---------+----------------+
| Field     | Type         | Null | Key | Default | Extra          |
+-----------+--------------+------+-----+---------+----------------+
| f_name    | varchar(100) | NO   | MUL | NULL    |                |
| l_name    | varchar(100) | NO   |     | NULL    |                |
| age       | int(11)      | NO   |     | NULL    |                |
| person_id | int(10)      | NO   | PRI | NULL    | auto_increment |
+-----------+--------------+------+-----+---------+----------------+
4 rows in set (0.01 sec)
mysql>

describe person;
+-----------+--------------+------+-----+---------+-------+
| Field     | Type         | Null | Key | Default | Extra |
+-----------+--------------+------+-----+---------+-------+
| f_name    | varchar(100) | NO   | MUL | NULL    |       |
| l_name    | varchar(100) | NO   |     | NULL    |       |
| age       | int(11)      | NO   |     | NULL    |       |
| person_id | int(11)      | NO   | PRI | NULL    |       |
+-----------+--------------+------+-----+---------+-------+
4 rows in set (0.01 sec)
mysql> alter table person add person_id  int(11) not null);

### select to show all data
select * from person;

slect * from city limit 10;

mysql> select name, population from city limit 10;
+----------------+------------+
| name           | population |
+----------------+------------+
| Kabul          |    1780000 |
| Qandahar       |     237500 |
| Herat          |     186800 |
| Mazar-e-Sharif |     127800 |
| Amsterdam      |     731200 |
| Rotterdam      |     593321 |
| Haag           |     440900 |
| Utrecht        |     234323 |
| Eindhoven      |     201843 |
| Tilburg        |     193238 |
+----------------+------------+
10 rows in set (0.02 sec)

#### enter values into table

mysql> insert into person (person_id, f_name, l_name, age) values 
(1, 'simon', 'kindlen', 50);

mysql> select * from person;
+--------+---------+-----+-----------+
| f_name | l_name  | age | person_id |
+--------+---------+-----+-----------+
| simon  | kindlen |  50 |         1 |
+--------+---------+-----+-----------+
1 row in set (0.01 sec)


mysql> select * from person;
+--------+---------+-----+-----------+
| f_name | l_name  | age | person_id |
+--------+---------+-----+-----------+
| simon  | kindlen |  50 |         1 |
+--------+---------+-----+-----------+
1 row in set (0.01 sec)

# CRUD https://portal.qa-community.co.uk/~/aws-specialist/learning/databases/databases--data-manipulation-language
#update record

mysql> update person set age=120 where person_id
    -> ;
Query OK, 1 row affected (0.01 sec)
Rows matched: 1  Changed: 1  Warnings: 0
mysql> select * from person;
+--------+---------+-----+-----------+
| f_name | l_name  | age | person_id |
+--------+---------+-----+-----------+
| simon  | kindlen | 120 |         1 |
+--------+---------+-----+-----------+
1 row in set (0.01 sec)


#delete a record

delete from person where person_id = 2

mysql> select * from person;
+--------+---------+-----+-----------+
| f_name | l_name  | age | person_id |
+--------+---------+-----+-----------+
| simon  | kindlen | 120 |         1 |
| isabel | kindlen |  83 |         3 |
+--------+---------+-----+-----------+
2 rows in set (0.01 sec)
mysql> delete from person where person_id = 1
    -> ;
Query OK, 1 row affected (0.01 sec)
mysql> select * from person;
+--------+---------+-----+-----------+
| f_name | l_name  | age | person_id |
+--------+---------+-----+-----------+
| isabel | kindlen |  83 |         3 |
+--------+---------+-----+-----------+
1 row in set (0.01 sec)
mysql> delete from person;


 # Select statements to read data 
select productID, productName, price, stockCount, price*stockCount as totalVal
from product
order by totalVal desc
limit 3;

select * from product orser by price desc;

select * from product where stock > 5;
 describe city
    -> ;
+-------------+----------+------+-----+---------+----------------+
| Field       | Type     | Null | Key | Default | Extra          |
+-------------+----------+------+-----+---------+----------------+
| ID          | int(11)  | NO   | PRI | NULL    | auto_increment |
| Name        | char(35) | NO   |     |         |                |
| CountryCode | char(3)  | NO   | MUL |         |                |
| District    | char(20) | NO   |     |         |                |
| Population  | int(11)  | NO   |     | 0       |                |
+-------------+----------+------+-----+---------+----------------+
5 rows in set (0.01 sec)
mysql> select * from city where CountryCode='USA';
Empty set (0.02 sec)

mysql> select f_name, age from person;
+--------+-----+
| f_name | age |
+--------+-----+
| isabel |  83 |
| peter  |  83 |
+--------+-----+
2 rows in set (0.01 sec)

 select population as pop, name as city from city  where population > 100000;
+----------+---------------------------------+
| pop      | city                            |
+----------+---------------------------------+
|  1780000 | Kabul                           |
|   237500 | Qandahar                        |
|   186800 | Herat                           |
|   127800 | Mazar-e-Sharif                  |
|   731200 | Amsterdam                       |
|   593321 | Rotterdam                       |
|   440900 | Haag                            |


mysql> select population as pop, name as city, district  from city  where population > 100000 order by population  desc limit 15;
+----------+-------------------+------------------+
| pop      | city              | district         |
+----------+-------------------+------------------+
| 10500000 | Mumbai (Bombay)   | Maharashtra      |
|  9981619 | Seoul             | Seoul            |
|  9968485 | São Paulo         | São Paulo        |
|  9696300 | Shanghai          | Shanghai         |
|  9604900 | Jakarta           | Jakarta Raya     |
|  9269265 | Karachi           | Sindh            |
|  8787958 | Istanbul          | Istanbul         |
|  8591309 | Ciudad de México  | Distrito Federal |
|  8389200 | Moscow            | Moscow (City)    |
|  8008278 | New York          | New York         |
|  7980230 | Tokyo             | Tokyo-to         |
|  7472000 | Peking            | Peking           |
|  7285000 | London            | England          |
|  7206704 | Delhi             | Delhi            |
|  6789479 | Cairo             | Kairo            |
+----------+-------------------+------------------+
15 rows in set (0.01 sec)


#####
sakila

create database if not exists sakila;
Query OK, 1 row affected (0.01 sec)
mysql> use sakila
Database changed
mysql> source sakila-schema.sql

use sakila
Database changed
mysql> source sakila-schema.sql


